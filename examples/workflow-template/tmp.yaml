apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  name: ci-job-2987419374
spec:
  arguments:
    parameters:
      - name: revision
        value: 2342
      - name: repo
        value: github.com/.../...
  entrypoint: main
  templates:
    - name: main
      script:
        image: docker/whalesay:latest
        workingDir: /work
        command:
          - sh
        source: |
          git clone "{{workflow.parameters.repo}}" .
          git checkout "{{workflow.parameters.revision}}"
