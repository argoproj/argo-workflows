apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  name: test-fixed
spec:
  arguments: {}
  entrypoint: run
  onExit: finish
  templates:
  - inputs: {}
    metadata: {}
    name: run
    outputs: {}
    script:
      command:
      - sh
      image: alpine
      name: ""
      resources: {}
      source: |
        echo success
  - inputs: 
    metadata: {}
    name: finish
    outputs: {}
    script:
      command:
      - sh
      image: alpine
      name: ""
      resources: {}
      source: |
        echo finished
status:
  artifactRepositoryRef:
    default: true
  conditions:
  - status: "False"
    type: PodRunning
  - status: "True"
    type: Completed
  finishedAt: "2021-11-03T09:04:05Z"
  message: Error (exit code 1)
  nodes:
    test-original-1094462238:
      displayName: test-original.onExit
      finishedAt: "2021-11-03T09:04:05Z"
      id: test-original-1094462238
      name: test-original.onExit
      outputs:
        artifacts:
        - name: main-logs
          s3:
            key: test-original/test-original-1094462238/main.log
        exitCode: "0"
      phase: Succeeded
      progress: 1/1
      resourcesDuration:
        cpu: 5
        memory: 5
      startedAt: "2021-11-03T09:04:05Z"
      templateName: finish
      templateScope: local/test-original
      type: Pod
  phase: Failed
  progress: 2/2
  resourcesDuration:
    cpu: 10
    memory: 10
  startedAt: "2021-11-03T16:04:05Z"

