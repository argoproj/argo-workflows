apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  generateName: "large-workflow-"
  labels:
    stress: "true"
spec:
  entrypoint: main
  podGC:
    strategy: OnPodCompletion
  templates:
    - name: main
      dag:
        tasks:
          - name: create-pod
            template: create-pod
            withSequence:
              count: 500
    - name: create-pod
      container:
        image: argoproj/argosay:v2