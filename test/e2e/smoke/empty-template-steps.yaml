apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  generateName: empty-array-in-steps
spec:
  podMetadata:
    labels:
      test: empty-array-in-steps
  podPriorityClassName: lowest
  entrypoint: steps-with-empty-array
  templates:
    - name: steps-with-empty-array
      steps:
        - - name: hello1
            template: hello
            arguments:
              parameters:
                - name: message
                  value: "hello1"
        - []
        - - name: hello2
            template: hello
            arguments:
              parameters:
                - name: message
                  value: "hello2"
    - name: hello
      inputs:
        parameters:
          - name: message
      container:
        image: argoproj/argosay:v2
        args: ["echo", "{{inputs.parameters.message}}"]
