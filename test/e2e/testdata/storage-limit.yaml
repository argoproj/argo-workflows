apiVersion: argoproj.io/v1alpha1
kind: Workflow
metadata:
  name: storage-quota-limit
  labels:
    argo-e2e: true
spec:
  entrypoint: wait
  volumeClaimTemplates:                 # define volume, same syntax as k8s Pod spec
    - metadata:
        name: workdir1                     # name of volume claim
      spec:
        accessModes: [ "ReadWriteOnce" ]
        resources:
          requests:
            storage: 2Mi

  templates:
  - name: wait
    script:
      image: argoproj/argosay:v2
      args: [echo, "hello world"]
      imagePullPolicy: IfNotPresent
